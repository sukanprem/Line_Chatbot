<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Update Health Check Result</title>

    <link rel="stylesheet" href="./style.css" />

    <!-- Ant Design CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/antd/4.16.13/antd.min.css" />

    <!-- React and ReactDOM CDN (Compatible with Ant Design) -->
    <script crossorigin src="https://unpkg.com/react@16.14.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16.14.0/umd/react-dom.production.min.js"></script>

    <!-- Ant Design JS (UMD) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/antd/4.16.13/antd.min.js"></script>

    <!-- Axios for HTTP requests -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <!-- <style>
        body {
            padding: 30px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        h2 {
            text-align: center;
        }
    </style> -->
</head>

<body>
    <update>
        <div class="container">
            <h2>Update Health Check Result</h2>

            <div id="updateForm"></div>
        </div>

        <script>
            const { Form, Input, Button, message } = antd;

            // Function to handle the form submission
            function handleUpdate(documentId, values) {
                axios.put(`http://localhost:3000/update-health-check-result/${documentId}`, values)
                    .then(response => {
                        message.success('Health check result updated successfully!');
                    })
                    .catch(error => {
                        console.error('Error updating health check result:', error);
                        message.error('Error updating health check result.');
                    });
            }

            // Ant Design Form component
            const UpdateForm = () => {
                const [form] = antd.Form.useForm();

                const onFinish = (values) => {
                    const documentId = form.getFieldValue('documentId'); // Get Document ID from the form
                    if (!documentId) {
                        message.error('Please input the Document ID!');
                        return;
                    }
                    handleUpdate(documentId, values);
                };

                return React.createElement(Form, {
                    form: form,
                    layout: "vertical",
                    onFinish: onFinish
                },
                    React.createElement(Form.Item, {
                        label: "Document ID",
                        name: "documentId",
                        rules: [{
                            required: true,
                            message: 'Please input the Document ID!'
                        }]
                    }, React.createElement(Input, null)),

                    React.createElement(Form.Item, {
                        label: "Full Name",
                        name: "fullName",
                        // rules: [{
                        //     required: true,
                        //     message: 'Please input the full name!'
                        // }]
                    }, React.createElement(Input, null)),

                    React.createElement(Form.Item, {
                        label: "Last Name",
                        name: "lastName",
                        // rules: [{
                        //     required: true,
                        //     message: 'Please input the last name!'
                        // }]
                    }, React.createElement(Input, null)),

                    React.createElement(Form.Item, {
                        label: "Weight (kg)",
                        name: "weight",
                        // rules: [{
                        //     required: true,
                        //     message: 'Please input the weight!'
                        // }]
                    }, React.createElement(Input, null)),

                    React.createElement(Form.Item, {
                        label: "Height (cm)",
                        name: "height",
                        // rules: [{
                        //     required: true,
                        //     message: 'Please input the height!'
                        // }]
                    }, React.createElement(Input, null)),

                    React.createElement(Form.Item, {
                        label: "Pulse Rate",
                        name: "pulseRate",
                        // rules: [{
                        //     required: true,
                        //     message: 'Please input the pulse rate!'
                        // }]
                    }, React.createElement(Input, null)),

                    React.createElement(Form.Item, {
                        label: "Temperature (Â°C)",
                        name: "temperature",
                        // rules: [{
                        //     required: true,
                        //     message: 'Please input the temperature!'
                        // }]
                    }, React.createElement(Input, null)),

                    React.createElement(Form.Item, {
                        label: "Oxygen Level (%)",
                        name: "oxygenLevel",
                        // rules: [{
                        //     required: true,
                        //     message: 'Please input the oxygen level!'
                        // }]
                    }, React.createElement(Input, null)),

                    React.createElement(Form.Item, {
                        label: "Respiration Rate",
                        name: "respirationRate",
                        // rules: [{
                        //     required: true,
                        //     message: 'Please input the respiration rate!'
                        // }]
                    }, React.createElement(Input, null)),

                    React.createElement(Form.Item, {
                        label: "Fasting Blood Sugar",
                        name: "fastingBloodSugar",
                        // rules: [{
                        //     required: true,
                        //     message: 'Please input the fasting blood sugar!'
                        // }]
                    }, React.createElement(Input, null)),

                    React.createElement(Form.Item, {
                        label: "Blood Pressure",
                        name: "bloodPressure",
                        // rules: [{
                        //     required: true,
                        //     message: 'Please input the blood pressure!'
                        // }]
                    }, React.createElement(Input, null)),

                    React.createElement(Form.Item, {
                        label: "Hospital",
                        name: "hospital",
                        // rules: [{
                        //     required: true,
                        //     message: 'Please input the hospital!'
                        // }]
                    }, React.createElement(Input, null)),

                    React.createElement(Form.Item, null,
                        React.createElement(Button, {
                            type: "primary",
                            htmlType: "submit"
                        }, "Update"))
                );
            };

            // Render the form in the div with id 'updateForm'
            ReactDOM.render(React.createElement(UpdateForm), document.getElementById('updateForm'));
        </script>
    </update>
</body>

</html>